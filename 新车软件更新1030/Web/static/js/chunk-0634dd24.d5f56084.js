(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0634dd24"],{"5c83":function(e,t,a){"use strict";a("a481"),a("6762"),a("2fdb");var i={bind:function(e,t,a){var i=e.querySelector(".el-dialog__header"),n=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,r=e.clientY-i.offsetTop,s=n.offsetWidth,l=n.offsetHeight,c=document.body.clientWidth,u=document.body.clientHeight,d=n.offsetLeft,m=c-n.offsetLeft-s,p=n.offsetTop,f=u-n.offsetTop-l,v=o(n,"left"),h=o(n,"top");v.includes("%")?(v=+document.body.clientWidth*(+v.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(v=+v.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,o=e.clientY-r;-i>d?i=-d:i>m&&(i=m),-o>p?o=-p:o>f&&(o=f),n.style.cssText+=";left:".concat(i+v,"px;top:").concat(o+h,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},n=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(n)),i.install=n;t["a"]=i},7565:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"e",function(){return r}),a.d(t,"a",function(){return s}),a.d(t,"f",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"h",function(){return u}),a.d(t,"b",function(){return d});var i=a("b775");function n(e){return Object(i["a"])({url:"api/ReceiveTask/GetPageRecords",method:"get",params:e})}function o(e){return Object(i["a"])({url:"api/ReceiveTask/GetReceiveTaskDetailList",method:"get",params:{Code:e}})}function r(){return Object(i["a"])({url:"api/ReceiveTask/GetWareHouseList",method:"get"})}function s(e){return Object(i["a"])({url:"api/ReceiveTask/PostDoDelete",method:"post",data:e})}function l(e){return Object(i["a"])({url:"api/ReceiveTask/PostDoCreate",method:"post",data:e})}function c(e){return Object(i["a"])({url:"api/ReceiveTask/PostHandShelfReceiveTask",method:"post",data:e})}function u(e){return Object(i["a"])({url:"api/ReceiveTask/PostReturn",method:"post",data:e})}function d(e){return Object(i["a"])({url:"api/ReceiveTask/GetHistoryPageRecords",method:"get",params:e})}},"80ac":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"search-card"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"领用任务单号",clearable:""},on:{clear:e.handleFilter},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.Code,callback:function(t){e.$set(e.listQuery,"Code",t)},expression:"listQuery.Code"}}),e._v(" "),a("el-select",{attrs:{multiple:!1,filterable:"",remote:"","reserve-keyword":""},on:{change:e.handleFilter},model:{value:e.listQuery.Status,callback:function(t){e.$set(e.listQuery,"Status",t)},expression:"listQuery.Status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1),e._v(" "),a("el-button",{staticClass:"filter-button",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.TableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:e.list,"header-cell-style":{background:"#F5F7FA"},size:"mini",height:"331",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.Status?a("el-tag",{attrs:{type:"warning"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),1===t.row.Status?a("el-tag",[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),2===t.row.Status?a("el-tag",{attrs:{type:"success"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),3===t.row.Status?a("el-tag",{attrs:{size:"mini",type:"info"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"任务编码",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.Code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"货柜",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.ContainerCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用类型",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ReceiveTypeEnumDescription))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用人",width:"120",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ReceiveUserName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用时间",width:"155",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.LastTimeReceiveDatetime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"预计归还时间",width:"135",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.PredictReturnTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用备注",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.Remarks))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"添加时间",width:"135",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.CreatedTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100px","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.handlePrint(t.row)}}},[e._v("单据")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.Page,"page-sizes":[6,12,18,24],"page-size":e.listQuery.Rows,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],key:e.TableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:e.listMaterial,"header-cell-style":{background:"#F5F7FA"},height:300,size:"mini",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.Status?a("el-tag",{attrs:{size:"mini",type:"warning"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),1===t.row.Status?a("el-tag",{attrs:{size:"mini"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),2===t.row.Status?a("el-tag",{attrs:{size:"mini",type:"success"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e(),e._v(" "),3===t.row.Status?a("el-tag",{attrs:{size:"mini",type:"info"}},[a("span",[e._v(e._s(t.row.StatusDescription))])]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用类型",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ReceiveTypeDescription))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"载具名称",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.BoxName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"图片",width:"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"image_box"},[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.BaseUrl+t.row.BoxUrl,fit:"contain","preview-src-list":[e.BaseUrl+t.row.BoxUrl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用重量(g)",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.Quantity))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用人",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.LastTimeReceiveName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"领用时间",width:"135",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LastTimeReceiveDatetime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"归还人",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.LastTimeReceiveName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"归还时间",width:"135",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LastTimeReturnDatetime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"使用时间(min)",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ReceiveTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模具条码",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.MaterialLabel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模具编码",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.MaterialCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模具描述",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.MouldRemarks))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"储位",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.LocationCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"x轴",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.XLight))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Y轴",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.YLight))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{width:"55px"},attrs:{size:"mini",type:"success"},on:{click:function(a){return e.execute(t.row)}}},[e._v("执行")]),e._v(" "),a("el-button",{staticStyle:{width:"55px"},attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.giveBacks(t.row)}}},[e._v("归还")])]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,width:"45%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"dialog-form",attrs:{rules:e.rules,model:e.ReceiveTaskDetail,"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"归还人",prop:"Name"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{multiple:!1,placeholder:"请选择归还人",filterable:"","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.TaskName.LastTimeReturnName,callback:function(t){e.$set(e.TaskName,"LastTimeReturnName",t)},expression:"TaskName.LastTimeReturnName"}},e._l(e.UserInfoList,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"归还时间",prop:"Name"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"datetime",placeholder:"请选择领用时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.TaskName.LastTimeReturnDatetime,callback:function(t){e.$set(e.TaskName,"LastTimeReturnDatetime",t)},expression:"TaskName.LastTimeReturnDatetime"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"10px"},attrs:{align:"right"}},[a("el-button",{staticClass:"filter-button",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"filter-button",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.giveBack}},[e._v("确认")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{visibility:"hidden",height:"250px",position:"absolute",right:"5px",top:"5px"}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],attrs:{id:"printBtn",type:"text"}},[e._v("打印")]),e._v(" "),a("span",{staticStyle:{width:"188px"},attrs:{id:"printMe"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:17}},[a("div",{staticStyle:{"font-size":"20px","margin-bottom":"20px"}},[e._v("货柜-"+e._s(e.PrintCode.ContainerCode)+"-领用任务")]),e._v(" "),a("div",{staticStyle:{"font-size":"12px"}},[a("span",[e._v("制单日期："+e._s(e.printDate))]),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.PrintCode.OutDictDescription))]),e._v(" "),a("span",[e._v(e._s(e.PrintCode.BillCode))])])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("barcode",{attrs:{value:e.PrintCode.Code,height:"20",font:"12",width:"1px",margin:"0px"}},[e._v("\n            Show this if the rendering fails.\n          ")])],1)],1),e._v(" "),a("hr",{staticStyle:{margin:"10px 0px"}}),e._v(" "),a("div",{staticStyle:{"font-size":"12px"}},[a("div",{staticStyle:{"font-size":"16px",margin:"20px 0px"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("span",[e._v("模具名称")])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("容器")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("span",[e._v("重量(g)")])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("span",[e._v("模具编码")])])],1)],1),e._v(" "),e._l(e.tempPrintlist,function(t){return a("div",{key:t.Id,staticStyle:{"margin-bottom":"30px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:10}},[a("span",[e._v(e._s(t.MaterialName))])]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:4}},[a("span",[e._v(e._s(t.BoxName))])]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:2}},[a("span",[e._v(" "+e._s(t.Quantity))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("barcode",{attrs:{value:t.MaterialLabel,height:"20px",width:"1px",font:"8","display-value":"false"}},[e._v("\n                Show this if the rendering fails.\n              ")])],1)],1)],1)})],2)],1)],1)],1)},n=[],o=(a("ac6a"),a("7565")),r=a("5c83"),s=a("cbe9"),l=a("f579"),c=a.n(l),u={name:"ReceiveTask",directives:{elDragDialog:r["a"]},components:{barcode:c.a},data:function(){return{BaseUrl:window.PLATFROM_CONFIG.baseUrl,multipleSelection:[],rowData:null,barcodeValue:"test",total:null,Addtotal:null,listLoading:!1,listQuery:{Page:1,Rows:6,Code:"",Status:void 0,Sort:"id"},TaskName:{LastTimeReturnName:"",LastTimeReturnDatetime:""},downloadLoading:!1,dialogPrinterVisible:!1,TableKey:0,list:null,listMaterial:null,addMaterial:[],UserInfoList:[],dialogFormVisible:!1,dialogStatus:"",LastTimeReturnName:"",LastTimeReturnDatetime:"",loading:!1,addMaterialGridCurrentRowIndex:void 0,textMap:{update:"编辑领用单",create:"创建领用单"},PrintCode:"",printDate:null,ReceiveTask:{Code:"",LastTimeReceiveName:"",LastTimeReceiveDatetime:"",LastTimeReturnName:"",LastTimeReturnDatetime:"",PredictReturnTime:"",ReceiveTime:"",ReceiveCode:"",WareHouseCode:"",Remarks:"",Status:"",ReceiveType:""},ReceiveTaskDetail:{TaskCode:"",LastTimeReceiveName:"",LastTimeReceiveDatetime:"",LastTimeReturnName:"",LastTimeReturnDatetime:"",PredictReturnTime:"",WareHouseCode:"",ReceiveCode:"",Remarks:"",Status:"",ReceiveType:"",MaterialLabel:"",ContainerCode:""},rules:{Code:[{required:!0,message:"请输入领用单号",trigger:"blur"}],WareHouseCode:[{required:!0,message:"请选择仓库",trigger:"blur"}]},WareHouseList:[],statusList:[{Code:void 0,Name:"全部"},{Code:0,Name:"待执行"},{Code:1,Name:"进行中"},{Code:2,Name:"已完成"},{Code:3,Name:"已作废"}],MouldList:[{Code:void 0,Name:"全部"},{Code:0,Name:"生产"},{Code:1,Name:"修模"},{Code:2,Name:"注销"},{Code:3,Name:"领用锁定"},{Code:4,Name:"在库中"}],tempPrintlist:[]}},watch:{dialogFormVisible:function(e){e||this.resstReceiveTaskDetail()}},created:function(){this.getList(),this.GetWareHouseList(),this.GetUserInfoList()},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{GetWareHouseList:function(){var e=this;Object(o["e"])().then(function(t){var a=JSON.parse(t.data.Content);e.WareHouseList=a})},getList:function(){var e=this;this.listLoading=!0,Object(o["d"])(this.listQuery).then(function(t){var a=JSON.parse(t.data.Content);e.list=a.rows,e.total=a.total,e.list.length>0&&e.handleRowClick(e.list[0]),setTimeout(function(){e.listLoading=!1},1e3)})},GetUserInfoList:function(){var e=this;Object(s["h"])().then(function(t){var a=JSON.parse(t.data.Content);a.forEach(function(t){"admin"!==t.Code&&e.UserInfoList.push(t)})})},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,Object(s["i"])(e).then(function(e){var a=JSON.parse(e.data.Content);t.UserInfoList=a}),setTimeout(function(){t.loading=!1},200)):(this.UserInfoList=[],this.editMaterialList.forEach(function(e){t.UserInfoList.push(e)}))},handleFilter:function(){this.listQuery.Page=1,this.getList()},handleSizeChange:function(e){this.listQuery.Rows=e,this.getList()},handleCurrentChange:function(e){this.listQuery.Page=e,this.getList()},handleCreate:function(){var e=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},execute:function(e){var t=this;this.$confirm("是否对此物料执行手动领用？手动执行将不驱动货柜运转。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ReceiveTaskDetail=e,Object(o["g"])(t.ReceiveTaskDetail).then(function(e){var a=JSON.parse(e.data.Content);a.Success?(t.dialogFormVisible=!1,t.$message({title:"成功",message:"执行成功",type:"success",duration:2e3}),t.getList(),Object(o["c"])(t.ReceiveTaskDetail.TaskCode).then(function(e){var a=JSON.parse(e.data.Content);t.listMaterial=a})):t.$message({title:"成功",message:"执行失败："+a.Message,type:"error",duration:2e3})})}).catch(function(){t.$message({type:"info",message:"已取消手动执行"})})},giveBacks:function(e){var t=this;this.dialogFormVisible=!0,this.ReceiveTaskDetail=e,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},giveBack:function(){var e=this;this.$confirm("是否对此物料执行手动归还？手动执行将不驱动货柜运转。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.ReceiveTaskDetail.LastTimeReturnName=e.TaskName.LastTimeReturnName,e.ReceiveTaskDetail.LastTimeReturnDatetime=e.TaskName.LastTimeReturnDatetime,Object(o["h"])(e.ReceiveTaskDetail).then(function(t){var a=JSON.parse(t.data.Content);a.Success?(e.dialogFormVisible=!1,e.$message({title:"成功",message:"归还成功",type:"success",duration:2e3}),e.getList(),Object(o["c"])(e.ReceiveTaskDetail.TaskCode).then(function(t){var a=JSON.parse(t.data.Content);e.listMaterial=a})):e.$message({title:"成功",message:"归还失败："+a.Message,type:"error",duration:2e3})})}).catch(function(){e.$message({type:"info",message:"已取消手动执行"})})},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该入库单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ReceiveTask=Object.assign({},e),t.deleteData(t.ReceiveTask)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},deleteData:function(e){var t=this;Object(o["a"])(e).then(function(e){var a=JSON.parse(e.data.Content);a.Success?(t.dialogFormVisible=!1,t.$message({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getList()):t.$message({title:"成功",message:"删除失败："+a.Message,type:"error",duration:2e3})})},handleRowClick:function(e,t,a){var i=this;Object(o["c"])(e.Code).then(function(e){var t=JSON.parse(e.data.Content);i.listMaterial=t})},handleCreateOutMaterial:function(){""!==this.RecipientsOrders.WareHouseCode?(this.addMould=!0,this.getAddList()):this.$message({title:"提示",message:"请选择仓库",type:"warning",duration:2e3})},handleDeleteOutMaterial:function(){void 0!==this.addMaterialGridCurrentRowIndex&&this.addMaterial.splice(this.addMaterial.indexOf(this.addMaterialGridCurrentRowIndex),1)},addMaterialGridClick:function(e,t,a){this.addMaterialGridCurrentRowIndex=e},resstReceiveTaskDetail:function(){this.ReceiveTaskDetail={TaskCode:"",LastTimeReceiveName:"",LastTimeReceiveDatetime:"",LastTimeReturnName:"",LastTimeReturnDatetime:"",PredictReturnTime:"",WareHouseCode:"",ReceiveCode:"",Remarks:"",Status:"",ReceiveType:"",MaterialLabel:"",ContainerCode:""},this.addMaterial=[],this.TaskName={LastTimeReturnName:"",LastTimeReturnDatetime:""}},beforeUpload:function(e){var t="application/vnd.ms-excel"===e.type,a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t|a},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，请删除后继续上传")},handleDownUpload:function(){var e=window.PLATFROM_CONFIG.baseUrl+"/api/RecipientsOrders/DoDownLoadTemp";window.open(e)},handlePrint:function(e){var t=this;this.PrintCode=e,this.printDate=this.getNowFormatDate(),Object(o["c"])(e.Code).then(function(e){var a=JSON.parse(e.data.Content);t.tempPrintlist=a;var i=document.getElementById("printBtn");i.click()})},getNowFormatDate:function(){var e=new Date,t="-",a=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();i>=1&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n);var o=a+t+i+t+n;return o}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,n,!1,null,null,null);t["default"]=p.exports},cbe9:function(e,t,a){"use strict";a.d(t,"j",function(){return n}),a.d(t,"h",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"e",function(){return u}),a.d(t,"i",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"d",function(){return p});var i=a("b775");function n(e){return Object(i["a"])({url:"api/User/GetUserList",method:"get",params:e})}function o(){return Object(i["a"])({url:"api/User/GetUserInfos",method:"get"})}function r(e){return Object(i["a"])({url:"api/User/PostDoCreate",method:"post",data:e})}function s(e){return Object(i["a"])({url:"api/User/PostDoEdit",method:"post",data:e})}function l(e){return Object(i["a"])({url:"api/User/PostDoRemove",method:"post",data:e})}function c(e){return Object(i["a"])({url:"api/User/GetUserInfo",method:"get",params:{code:e}})}function u(e){return Object(i["a"])({url:"api/User/PostDoEditUserCenter",method:"post",data:e})}function d(e){return Object(i["a"])({url:"api/User/GetUserlInfoList",method:"get",params:{KeyValue:e}})}function m(e){return Object(i["a"])({url:"api/User/GetUserInfoByRole",method:"get",params:{role:e}})}function p(e){return Object(i["a"])({url:"api/User/PostDoEditUserArea",method:"post",data:e})}},f579:function(e,t,a){var i=a("62c5"),n={render:function(e){return e("div",[e(this.elementTag,{style:{display:this.valid?void 0:"none"},class:["vue-barcode-element"]}),e("div",{style:{display:this.valid?"none":void 0}},this.$slots.default)])},props:{value:[String,Number],format:[String],width:[String,Number],height:[String,Number],text:[String,Number],fontOptions:[String],font:[String],textAlign:[String],textPosition:[String],textMargin:[String,Number],fontSize:[String,Number],background:[String],lineColor:[String],margin:[String,Number],marginTop:[String,Number],marginBottom:[String,Number],marginLeft:[String,Number],marginRight:[String,Number],displayValue:{type:[String,Boolean],default:!0},elementTag:{type:String,default:"svg",validator:function(e){return-1!==["canvas","svg","img"].indexOf(e)}}},mounted:function(){this.$watch("$props",o,{deep:!0,immediate:!0}),o.call(this)},data:function(){return{valid:!0}}};function o(){var e=this,t={format:this.format,height:this.height,width:this.width,text:this.text,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,lineColor:this.lineColor,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:function(t){e.valid=t},displayValue:this.displayValue,elementTag:this.elementTag};r(t),i(this.$el.querySelector(".vue-barcode-element"),String(this.value),t)}function r(e){for(var t in e)e.hasOwnProperty(t)&&void 0===e[t]&&delete e[t]}e.exports=n}}]);