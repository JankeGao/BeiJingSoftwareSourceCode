(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cc6d80e"],{"322a":function(t,e,a){"use strict";a("4917");var i=null;function n(){return!0}if(n()){var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.src="http://localhost:18000/CLodopfuncs.js?priority=1",o.insertBefore(r,o.firstChild),r=document.createElement("script"),r.src="http://localhost:18000/CLodopfuncs.js?priority=1",o.insertBefore(r,o.firstChild)}function s(t,e){var a,o="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop32.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",r="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop64.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",s="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>",l="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>",u="<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行安装</a>,安装后请刷新页面。</font>";try{var d=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(n()){try{a=getCLodop()}catch(p){}if(!a&&"complete"!==document.readyState)return void alert("C-Lodop没准备好，请稍后再试！");if(!a)return void(d?document.write(u):document.body.innerHTML=u+document.body.innerHTML);e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var c=d&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=e?a=d?t:e:null==i?(a=document.createElement("object"),a.setAttribute("width",0),a.setAttribute("height",0),a.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),d?a.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):a.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(a),i=a):a=i,null==a||"undefined"==typeof a.VERSION)return navigator.userAgent.indexOf("Chrome")>=0&&(document.body.innerHTML=l+document.body.innerHTML),navigator.userAgent.indexOf("Firefox")>=0&&(document.body.innerHTML=s+document.body.innerHTML),c?document.write(r):d?document.write(o):document.body.innerHTML=o+document.body.innerHTML,a}return a.VERSION<"6.2.2.2"?(n(),a):a}catch(p){alert("getLodop出错:"+p)}}e["a"]=s},3480:function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"e",function(){return o}),a.d(e,"a",function(){return r}),a.d(e,"b",function(){return s}),a.d(e,"f",function(){return l}),a.d(e,"j",function(){return u}),a.d(e,"i",function(){return d}),a.d(e,"g",function(){return c}),a.d(e,"h",function(){return p});var i=a("b775");function n(t){return Object(i["a"])({url:"api/OutTask/GetPageRecords",method:"get",params:t})}function o(t){return Object(i["a"])({url:"api/OutTask/GetOutTaskMaterialList",method:"get",params:{OutTaskCode:t}})}function r(t){return Object(i["a"])({url:"api/OutTask/PostDoCreate",method:"post",data:t})}function s(t){return Object(i["a"])({url:"api/OutTask/PostDoDelete",method:"post",data:t})}function l(t){return Object(i["a"])({url:"api/OutTask/PostDoSendOrder",method:"post",data:t})}function u(t){return Object(i["a"])({url:"api/OutTask/ConfirmHandPicked",method:"post",data:t})}function d(t){return Object(i["a"])({url:"api/OutTask/PostTaskMaterialLabelList",method:"post",data:t})}function c(t){return Object(i["a"])({url:"api/OutTask/PostDoStartContrainer",method:"post",data:t})}function p(t){return Object(i["a"])({url:"api/OutTask/PostRestoreContrainer",method:"post",data:t})}},3798:function(t,e,a){"use strict";a("28a5");var i=a("322a"),n=function(t,e,a){this.templdatedata=t,this.data=e,this.pagesetting=a,this._databinds=null;try{var n=Object(i["a"])();n.VERSION&&n.CVERSION&&(this.LODOP=getCLodop(),this.load=!0)}catch(o){this.load=!1,this.msg="请安装打印控件,若已安装请运行！"}};n.prototype={get databinds(){if(null==this._databinds)if(this.templdatedata){this._databinds={};for(var t=0;t<this.templdatedata.length;t++){var e=this.templdatedata[t],a=e.data.databind.id;if("atable"==e.type){this._databinds[a]||(this._databinds[a]=[]);for(var i=0;i<e.data.thead.rows.length;i++)for(var n=e.data.thead.rows[i],o=0;o<n.cells.length;o++){var r=n.cells[o];if(r["databind"]&&r["databind"]["id"]){var s=r["databind"]["id"];this._databinds[a].indexOf(s)<0&&this._databinds[a].push(s)}}for(i=0;i<e.data.tbody.rows.length;i++)for(n=e.data.tbody.rows[i],o=0;o<n.cells.length;o++){r=n.cells[o];if(r["databind"]&&r["databind"]["id"]){s=r["databind"]["id"];this._databinds[a].indexOf(s)<0&&this._databinds[a].push(s)}}}else if("atext"==e.type)this._databinds[a]="";else if("achart"==e.type){this._databinds[a]||(this._databinds[a]=[]);for(i=0;i<e.data.xdata.length;i++){var l=e.data.xdata[i];s=l.id;l.show&&this._databinds[a].indexOf(s)<0&&this._databinds[a].push(s)}}else"aimage"==e.type&&(this._databinds[a]="")}}else this._databinds={};return this._databinds}},n.prototype.g_text=function(t){for(var e,a=this.LODOP,i=t.data,n=i.value,o=t.data.databind.id.split("."),r=0;r<o.length;r++)this.data[o[r]]&&(e=this.data[o[r]]);for(var s in e&&""!=e&&(n=e),a.ADD_PRINT_TEXT(i.y+"px",i.x+"px",i.width+"px",i.height+"px",n),a.SET_PRINT_STYLEA(0,"ItemType",i.itemtype),i.style)switch(s){case"color":a.SET_PRINT_STYLEA(0,"FontColor",i.style[s]);break;case"fontFamily":a.SET_PRINT_STYLEA(0,"FontName",i.style[s]);break;case"fontSize":a.SET_PRINT_STYLEA(0,"FontSize",.75*parseInt(i.style[s]));break;case"fontSpacing":a.SET_PRINT_STYLEA(0,"letterSpacing",parseInt(i.style[s]));break;case"fontWeight":a.SET_PRINT_STYLEA(0,"Bold","normal"==i.style[s]?0:1);break;case"fontStyle":a.SET_PRINT_STYLEA(0,"Italic","normal"==i.style[s]?0:1);break;case"textAlign":var l=i.style[s],u=1;"left"==l?u=1:"center"==l?u=2:"right"==l&&(u=3),a.SET_PRINT_STYLEA(0,"Alignment",u);break;case"borderType":a.SET_PRINT_STYLEA(0,"TextFrame",i.style[s]);break;case"VOrient":a.SET_PRINT_STYLEA(0,"VOrient",i.style[s]);break;case"HOrient":a.SET_PRINT_STYLEA(0,"HOrient",i.style[s]);break;default:}},n.prototype.g_table=function(t){for(var e,a=this.LODOP,i=t.data,n=i.databind.id.split("."),o=0;o<n.length;o++)this.data[n[o]]&&(e=this.data[n[o]]);var r=document.createElement("table");i.style.borderType>0&&(r.border=1),2==i.style.borderType&&(r.style.borderCollapse="collapse");for(o=0;o<i.thead.rows.length;o++){var s=i.thead.rows[o];if(!s["unprint"])for(var l=r.insertRow(),u=0;u<s.cells.length;u++){var d=s.cells[u],c=l.insertCell();for(var p in c.innerHTML=d.value,c.style.width=d.width+"px",c.style.height=d.height+"px",d.style)c.style[p]=d.style[p]}}if(r&&e.length)for(o=0;o<e.length;o++){var h=e[o];for(u=0;u<i.tbody.rows.length;u++){s=i.tbody.rows[u];if(!s["unprint"]){l=r.insertRow();for(var f=0;f<s.cells.length;f++){d=s.cells[f],c=l.insertCell();for(var p in c.innerHTML=d.value,c.style.width=d.width+"px",c.style.height=d.height+"px",d.style)c.style[p]=d.style[p];d.databind&&d.databind.id&&""!=d.databind.id&&(c.innerHTML=h[d.databind.id])}}}}var g=r.outerHTML;a.ADD_PRINT_TABLE(i.y+"px",i.x+"px",i.width+"px",i.height+"px",g),a.SET_PRINT_STYLEA(0,"ItemType",4)},n.prototype.g_chart=function(t){for(var e,a=this.LODOP,i=[],n=t.data.databind.id.split("."),o=0;o<n.length;o++)this.data[n[o]]&&(e=this.data[n[o]]);for(o=0;o<t.data.xdata.length;o++){var r=t.data.xdata[o];r.group?i.splice(0,0,r):i.push(r)}var s=document.createElement("table"),l=s.insertRow();for(o=0;o<i.length;o++){r=i[o];var u=l.insertCell();u.innerHTML=r.text}for(o=0;o<e.length;o++)for(var d=e[o],c=s.insertRow(),p=0;p<i.length;p++){r=i[p],u=c.insertCell();u.innerHTML=d[r.id]}var h=s.outerHTML;a.ADD_PRINT_CHART(t.data.y+"px",t.data.x+"px",t.data.width+"px",t.data.height+"px",t.data.charttype,h),a.SET_PRINT_STYLEA(0,"ChartStyle",t.data.printstyle.join("")),a.SET_PRINT_STYLEA(0,"ChartTitle",t.data.charttitle),a.SET_PRINT_STYLEA(0,"ChartFoot",t.data.chartfoot)},n.prototype.g_image=function(t){for(var e,a,i,n=this.LODOP,o=t.data.databind.id.split("."),r=0;r<o.length;r++)this.data[o[r]]&&(e=this.data[o[r]]);t.data.databind.id&&""!=t.data.databind.id?(i=t.data.databindtype,a=e):(i=t.data.style.defaultimgtype,a=t.data.style.defaultimg),1==i&&(a="URL:"+a),n.ADD_PRINT_IMAGE(t.data.y,t.data.x,t.data.width,t.data.height,a),n.SET_PRINT_STYLEA(0,"ItemType",t.data.itemtype),n.SET_PRINT_STYLEA(0,"Stretch",t.data.style.backgroundSize)},n.prototype.print=function(){if(this.load){this.LODOP.PRINT_INIT("sunagy报表设计"),this.pagesetting&&this.LODOP.SET_PRINT_PAGESIZE(this.pagesetting.intOrient,this.pagesetting.width,this.pagesetting.height,this.pagesetting.pagetype);for(var t=0;t<this.templdatedata.length;t++){var e=this.templdatedata[t];e.data;"atext"==e.type?this.g_text.call(this,e):"atable"==e.type?this.g_table.call(this,e):"achart"==e.type?this.g_chart.call(this,e):"aimage"==e.type&&this.g_image.call(this,e)}LODOP.PRINT()}else alert(this.msg)},n.prototype.definedPrint=function(t){if(this.load){this.LODOP.PRINT_INIT("sunagy报表设计"),this.pagesetting&&this.LODOP.SET_PRINT_PAGESIZE(this.pagesetting.intOrient,this.pagesetting.width,this.pagesetting.height,this.pagesetting.pagetype);for(var e=0;e<this.templdatedata.length;e++){var a=this.templdatedata[e];a.data;"atext"==a.type?this.g_text.call(this,a):"atable"==a.type?this.g_table.call(this,a):"achart"==a.type?this.g_chart.call(this,a):"aimage"==a.type&&this.g_image.call(this,a)}console.log(t),LODOP.SET_PRINTER_INDEX(t),LODOP.PRINT()}else alert(this.msg)},e["a"]=n},"5c83":function(t,e,a){"use strict";a("a481"),a("6762"),a("2fdb");var i={bind:function(t,e,a){var i=t.querySelector(".el-dialog__header"),n=t.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();i.onmousedown=function(t){var e=t.clientX-i.offsetLeft,r=t.clientY-i.offsetTop,s=n.offsetWidth,l=n.offsetHeight,u=document.body.clientWidth,d=document.body.clientHeight,c=n.offsetLeft,p=u-n.offsetLeft-s,h=n.offsetTop,f=d-n.offsetTop-l,g=o(n,"left"),m=o(n,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),m=+document.body.clientHeight*(+m.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),m=+m.replace(/\px/g,"")),document.onmousemove=function(t){var i=t.clientX-e,o=t.clientY-r;-i>c?i=-c:i>p&&(i=p),-o>h?o=-h:o>f&&(o=f),n.style.cssText+=";left:".concat(i+g,"px;top:").concat(o+m,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},n=function(t){t.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(n)),i.install=n;e["a"]=i},"62a2":function(t,e,a){"use strict";a.d(e,"B",function(){return n}),a.d(e,"u",function(){return o}),a.d(e,"v",function(){return r}),a.d(e,"e",function(){return s}),a.d(e,"p",function(){return l}),a.d(e,"l",function(){return u}),a.d(e,"m",function(){return d}),a.d(e,"j",function(){return c}),a.d(e,"g",function(){return p}),a.d(e,"h",function(){return h}),a.d(e,"i",function(){return f}),a.d(e,"A",function(){return g}),a.d(e,"q",function(){return m}),a.d(e,"y",function(){return b}),a.d(e,"n",function(){return v}),a.d(e,"o",function(){return _}),a.d(e,"k",function(){return y}),a.d(e,"d",function(){return w}),a.d(e,"f",function(){return C}),a.d(e,"w",function(){return S}),a.d(e,"x",function(){return T}),a.d(e,"c",function(){return O}),a.d(e,"z",function(){return L}),a.d(e,"r",function(){return k}),a.d(e,"s",function(){return x}),a.d(e,"b",function(){return M}),a.d(e,"a",function(){return I}),a.d(e,"D",function(){return P}),a.d(e,"C",function(){return N}),a.d(e,"t",function(){return D});var i=a("b775");function n(t){return Object(i["a"])({url:"api/WareHouse/GetWareHouseTreeData",method:"get",params:{type:t}})}function o(t){return Object(i["a"])({url:"api/WareHouse/GetMaterialPageRecords",method:"get",params:t})}function r(t){return Object(i["a"])({url:"api/WareHouse/GetPageRecords",method:"get",params:t})}function s(t){return Object(i["a"])({url:"api/WareHouse/PostDoCreateWareHouse",method:"post",data:t})}function l(t){return Object(i["a"])({url:"api/WareHouse/PostDoEditWareHouse",method:"post",data:t})}function u(t){return Object(i["a"])({url:"api/WareHouse/PostDoEditContainer",method:"post",data:t})}function d(t){return Object(i["a"])({url:"api/WareHouse/PostDoEditLocation",method:"post",data:t})}function c(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteWareHouse",method:"post",data:t})}function p(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteContainer",method:"post",data:t})}function h(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteLocation",method:"post",data:t})}function f(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteTray",method:"post",data:t})}function g(t){return Object(i["a"])({url:"api/WareHouse/GetWareHouseLocations",method:"get",params:{KeyValue:t}})}function m(t){return Object(i["a"])({url:"api/WareHouse/GetAreaLocations",method:"get",params:{KeyValue:t}})}function b(t){return Object(i["a"])({url:"api/WareHouse/GetTrayLocations",method:"get",params:{KeyValue:t}})}function v(t){return Object(i["a"])({url:"api/WareHouse/PostDoEditTray",method:"post",data:t})}function _(t){return Object(i["a"])({url:"api/WareHouse/PostDoEditTrayLocation",method:"post",data:t})}function y(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteLocationByLayoutId",method:"post",data:t})}function w(t){return Object(i["a"])({url:"api/WareHouse/PostDoCreateContainer",method:"post",data:t})}function C(t){return Object(i["a"])({url:"api/WareHouse/PostDoCreateTray",method:"post",data:t})}function S(t){return Object(i["a"])({url:"api/WareHouse/GetTrayById",method:"get",params:{trayId:t}})}function T(t){return Object(i["a"])({url:"api/WareHouse/GetTrayLayoutById",method:"get",params:{trayId:t}})}function O(t){return Object(i["a"])({url:"api/WareHouse/AddBatchTrayUserMap",method:"post",data:t})}function L(t){return Object(i["a"])({url:"api/WareHouse/GetTrayUserMapByTrayId",method:"get",params:{trayId:t}})}function k(t){return Object(i["a"])({url:"api/WareHouse/GetDoCheckAuth",method:"get",params:{trayId:t}})}function x(t){return Object(i["a"])({url:"api/WareHouse/GetLocationByLayoutId",method:"get",params:{layoutId:t}})}function M(t){return Object(i["a"])({url:"api/WareHouse/PostStartContainer",method:"post",data:t})}function I(t){return Object(i["a"])({url:"api/WareHouse/PostRestoreContainer",method:"post",data:t})}function P(t){return Object(i["a"])({url:"api/WareHouse/PostDoDeleteLocationByTrayId",method:"post",data:t})}function N(t){return Object(i["a"])({url:"api/WareHouse/DoUpLoadInInfo",method:"post",data:t})}function D(t){return Object(i["a"])({url:"api/WareHouse/GetLocationByTrayId",method:"get",params:{trayId:t}})}},ac44:function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"b",function(){return o}),a.d(e,"c",function(){return r}),a.d(e,"e",function(){return s}),a.d(e,"a",function(){return l});var i=a("b775");function n(t){return Object(i["a"])({url:"api/Label/GetPageRecords",method:"get",params:t})}function o(t){return Object(i["a"])({url:"api/Label/PostDoCreate",method:"post",data:t})}function r(t){return Object(i["a"])({url:"api/Label/GetLabelByCode",method:"get",params:{code:t}})}function s(t){return Object(i["a"])({url:"api/Label/PostQueryHistoryLabel",method:"post",data:t})}function l(t){return Object(i["a"])({url:"api/Label/PostDoCreateBatchLabel",method:"post",data:t})}},c71a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"search-card"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"出库任务号",clearable:""},on:{clear:t.handleFilter},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.Code,callback:function(e){t.$set(t.listQuery,"Code",e)},expression:"listQuery.Code"}}),t._v(" "),a("el-select",{attrs:{multiple:!1,filterable:"",remote:"","reserve-keyword":""},on:{change:t.handleFilter},model:{value:t.listQuery.Status,callback:function(e){t.$set(t.listQuery,"Status",e)},expression:"listQuery.Status"}},t._l(t.statusList,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}),1),t._v(" "),a("el-button",{staticClass:"filter-button",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.TableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:t.list,"header-cell-style":{background:"#F5F7FA"},size:"mini",height:"331",border:"",fit:"","highlight-current-row":""},on:{"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.Status?a("el-tag",{attrs:{type:"warning"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),1===e.row.Status?a("el-tag",[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),2===e.row.Status?a("el-tag",{attrs:{type:"success"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),3===e.row.Status?a("el-tag",{attrs:{type:"info"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出库任务号",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.Code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"货柜",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ContainerCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"仓库",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.WareHouseCode)+"-"+t._s(e.row.WareHouseName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出库单据号",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.OutCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出库类型",width:"120",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.OutDictDescription))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.Remark))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下发人",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.CreatedUserName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下发时间",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.CreatedTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100px","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return t.handlePrint(e.row)}}},[t._v("单据")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.listQuery.Page,"page-sizes":[6,12,18,24],"page-size":t.listQuery.Rows,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],key:t.TableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:t.listMaterial,"header-cell-style":{background:"#F5F7FA"},height:300,size:"mini",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.Status?a("el-tag",{attrs:{type:"warning"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),1===e.row.Status?a("el-tag",[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),2===e.row.Status?a("el-tag",{attrs:{type:"success"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),3===e.row.Status?a("el-tag",{attrs:{type:"info"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货托盘",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.SuggestTrayCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货储位",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.SuggestLocation))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"载具名称",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.BoxName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"图片",width:"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"image_box"},[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.BaseUrl+e.row.BoxUrl,fit:"contain","preview-src-list":[t.BaseUrl+e.row.BoxUrl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"X轴灯号",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.XLight))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Y轴灯号",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.YLight))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"物料编码",width:"200",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.MaterialCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"物料描述",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.MaterialName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"批次",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.BatchCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货重量(g)",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.Quantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"已拣货重量(g)",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.RealPickedQuantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleConfirmFinish(e.row)}}},[t._v("详情")])]}}])})],1)],1),t._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"出库物料",visible:t.dialogFormLabelVisible,fullscreen:!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormLabelVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],key:t.TableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:t.listLabelMaterial,"header-cell-style":{background:"#F5F7FA"},height:300,size:"mini",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.Status?a("el-tag",{attrs:{size:"mini",type:"warning"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),1===e.row.Status?a("el-tag",{attrs:{size:"mini"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),2===e.row.Status?a("el-tag",{attrs:{size:"mini",type:"danger"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e(),t._v(" "),3===e.row.Status?a("el-tag",{attrs:{size:"mini",type:"success"}},[a("span",[t._v(t._s(e.row.StatusCaption))])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"建议物料",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.MaterialLabel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货托盘",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.TrayCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货储位",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.LocationCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"载具名称",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.BoxName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"图片",width:"80",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"image_box"},[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.BaseUrl+e.row.BoxUrl,fit:"contain","preview-src-list":[t.BaseUrl+e.row.BoxUrl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"X轴灯号",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.XLight))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Y轴灯号",width:"70",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.YLight))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"物料编码",width:"200",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.MaterialCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"物料描述",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.MaterialName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"批次",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.BatchCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"待拣货重量(g)",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.Quantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"已拣货重量(g)",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.RealPickedQuantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"拣货时间",width:"200",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.PickedTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleConfirmLabel(e.row)}}},[t._v("执行")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handlePrintCode(e.row)}}},[t._v("打印")])]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormLabelVisible=!1}}},[t._v("取消")])],1)],1),t._v(" "),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"执行出库",visible:t.dialogFormVisible,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticClass:"dialog-form",attrs:{rules:t.rules,model:t.Label,"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出库重量(g)",prop:"MaterialLabel"}},[a("el-input",{staticClass:"dialog-input",attrs:{disabled:!0===t.OutTaskMaterial.IsPackage,placeholder:"请输入出库重量(g)"},model:{value:t.OutTaskMaterial.OutTaskMaterialQuantity,callback:function(e){t.$set(t.OutTaskMaterial,"OutTaskMaterialQuantity",e)},expression:"OutTaskMaterial.OutTaskMaterialQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"物料条码"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.MaterialLabel))])]),t._v(" "),a("el-form-item",{attrs:{label:"物料编码"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.MaterialCode))])]),t._v(" "),a("el-form-item",{attrs:{label:"物料名称"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.MaterialName))])]),t._v(" "),a("el-form-item",{attrs:{label:"批次"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.BatchCode))])]),t._v(" "),a("el-form-item",{attrs:{label:"单位"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.MaterialUnit))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"货柜"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.SuggestContainerCode))])]),t._v(" "),a("el-form-item",{attrs:{label:"托盘"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.SuggestTrayCode))]),t._v(" "),a("span",{staticClass:"dialog-input"},[t._v(t._s("---X轴:"+t.OutTaskMaterial.XLight+"---Y轴:"+t.OutTaskMaterial.YLight))])]),t._v(" "),a("el-form-item",{attrs:{label:"待拣货重量(g)"}},[a("span",{staticClass:"dialog-input"},[t._v(t._s(t.OutTaskMaterial.Quantity-t.OutTaskMaterial.RealPickedQuantity))])]),t._v(" "),a("el-form-item",{attrs:{label:"拣货储位",prop:"LocationCode"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",disabled:"",placeholder:"请输出库位编码"},on:{change:t.handleChangeLocation},model:{value:t.OutTaskMaterial.SuggestLocation,callback:function(e){t.$set(t.OutTaskMaterial,"SuggestLocation",e)},expression:"OutTaskMaterial.SuggestLocation"}},t._l(t.locationList,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Code,value:e.Code}},[a("span",{staticStyle:{float:"left"}},[t._v("托盘:"+t._s(e.TrayCode))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("储位："+t._s(e.Code))])])}),1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleStartContainer}},[t._v("启动货柜")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleRestoreContainer}},[t._v("存入货柜")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.shelfOutTaskMaterialItem}},[t._v("确认")])],1)],1),t._v(" "),a("div",{staticStyle:{visibility:"hidden",height:"250px",position:"absolute",right:"5px",top:"5px"}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],attrs:{id:"printBtn",type:"text"}},[t._v("打印")]),t._v(" "),a("span",{staticStyle:{width:"188px"},attrs:{id:"printMe"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:17}},[a("div",{staticStyle:{"font-size":"20px","margin-bottom":"20px"}},[t._v("货柜-"+t._s(t.PrintCode.ContainerCode)+"-出库任务")]),t._v(" "),a("div",{staticStyle:{"font-size":"12px"}},[a("span",[t._v("制单日期："+t._s(t.printDate))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.PrintCode.OutDictDescription))]),t._v(" "),a("span",[t._v(t._s(t.PrintCode.BillCode))])])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("barcode",{attrs:{value:t.PrintCode.OutCode,height:"20",font:"12",width:"1px",margin:"0px"}},[t._v("Show this if the rendering fails.")])],1)],1),t._v(" "),a("hr",{staticStyle:{margin:"10px 0px"}}),t._v(" "),a("div",{staticStyle:{"font-size":"12px"}},[a("div",{staticStyle:{"font-size":"16px",margin:"20px 0px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",[t._v("名称")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("容器")])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("span",[t._v("重量(g)")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("批次")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",[t._v("物料编码")])])],1)],1),t._v(" "),t._l(t.tempPrintlist,function(e){return a("div",{key:e.Id,staticStyle:{"margin-bottom":"30px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:8}},[a("span",[t._v(t._s(e.MaterialName))])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:4}},[a("span",[t._v(t._s(e.BoxName))])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:2}},[a("span",[t._v(t._s(e.Quantity))])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:4}},[a("span",[t._v(t._s(e.BatchCode))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("barcode",{attrs:{value:e.MaterialCode,height:"20px",width:"1px",font:"8","display-value":"false"}},[t._v("Show this if the rendering fails.")])],1)],1)],1)})],2)],1)],1)],1)},n=[],o=(a("7514"),a("3480")),r=a("5c83"),s=a("322a"),l=a("61f7"),u=a("3798"),d=a("ac44"),c=a("62a2"),p=a("f579"),h=a.n(p),f={name:"InTaskBill",directives:{elDragDialog:r["a"]},components:{barcode:h.a},data:function(){var t=this,e=function(e,a,i){""===t.Label.Code||null===t.Label.Code?i(new Error("请扫描条码")):i()},a=function(e,a,i){Object(l["c"])(t.OutTaskMaterial.Quantity)?i():i(new Error("请输入正确的数字"))};return{BaseUrl:window.PLATFROM_CONFIG.baseUrl,rowData:null,barcodeValue:"test",total:null,listLoading:!1,listQuery:{Page:1,Rows:6,Code:"",Status:void 0,Sort:"id"},OptionList:[],OptionObject:{Name:"",value:0},dictionaryList:[],downloadLoading:!1,dialogPrinterVisible:!1,TableKey:0,list:null,listMaterial:null,addMaterial:[],dialogFormVisible:!1,printerList:[],dialogStatus:"",materialList:[],editMaterialList:[],loading:!1,addMaterialGridCurrentRowIndex:void 0,textMap:{update:"编辑出库单",create:"创建出库单"},InTask:{Code:"",BillCode:"",WareHouseCode:"",InDict:void 0,Remark:"",AddMaterial:[],Status:void 0},OutTaskMaterial:{MaterialCode:"",MaterialName:"",SupplierCode:"",SupplierName:"",RealInQuantity:0,BatchCode:"",Quantity:0,MaterialLabel:"",LocationCode:"",Id:0},PrintCode:"",controls:[],rules:{Code:[{required:!0,message:"请输入出库单号",trigger:"blur"}],WareHouseCode:[{required:!0,message:"请选择仓库",trigger:"blur"}],InputBarcode:[{required:!0,validator:e,trigger:"blur"}],InputNumber:[{require:!0,validator:a,trigger:"blur"}]},WareHouseList:[],tempPrintlist:[],printDate:null,page:{width:520,height:350,pagetype:"",intOrient:1},barCode:"",dialogInMaterialVisible:!1,Label:{Code:null,SupplyCode:null,MaterialCode:null,Quantity:null,ProductionDate:null,Batchcode:null},supplierList:[],editSupplierList:[],statusList:[{Code:void 0,Name:"全部"},{Code:0,Name:"待执行"},{Code:1,Name:"执行中 "},{Code:2,Name:"已完成"},{Code:3,Name:"已作废"}],locationList:[],listLabelMaterial:[],dialogFormLabelVisible:!1,confirmEnable:!1}},watch:{dialogInMaterialVisible:function(t){t||this.resstIn()},dialogFormLabelVisible:function(t){t||this.getList()},dialogFormVisible:function(t){t||this.resstIn()}},created:function(){this.getList(),this.getInDictTypeList()},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{handleChangeLocation:function(t){var e=this.locationList.find(function(e){return e.Code===t});this.OutTaskMaterial.LocationCode=t,this.OutTaskMaterial.TrayId=e.TrayId,this.OutTaskMaterial.TrayCode=e.TrayCode},getInMaterialByLabel:function(){var t=this;""!==this.Label.Code&&Object(d["c"])(this.Label.Code).then(function(e){if(200===e.status){var a=JSON.parse(e.data.Content);if(t.Label=a,t.Label.MaterialCode!==t.OutTaskMaterial.MaterialCode)return t.$message({title:"失败",message:"此物料不属于本行项目出库的物料",type:"error",duration:4e3}),t.Label.Code="",void(t.Label.Quantity="");if(!0===t.OutTaskMaterial.IsBatch&&t.OutTaskMaterial.BatchCode!==t.Label.Batchcode)return t.$message({title:"失败",message:"此条码批次与出库任务不符合",type:"error",duration:4e3}),t.Label.Code="",void(t.Label.Quantity="");t.OutTaskMaterial.MaterialLabel=t.Label.Code}else t.$message({title:"失败",message:"获取拣货条码信息失败",type:"error",duration:2e3})})},getInDictTypeList:function(){var t=this;Object(o["getInDictTypeList"])("InType").then(function(e){var a=JSON.parse(e.data.Content);t.dictionaryList=a})},getList:function(){var t=this;this.listLoading=!0,Object(o["d"])(this.listQuery).then(function(e){var a=JSON.parse(e.data.Content);t.list=a.rows,t.total=a.total,t.list.length>0&&t.handleRowClick(t.list[0]),setTimeout(function(){t.listLoading=!1},1e3)})},handleFilter:function(){this.listQuery.Page=1,this.getList()},handleSizeChange:function(t){this.listQuery.Rows=t,this.getList()},handleCurrentChange:function(t){this.listQuery.Page=t,this.getList()},handleConfirmFinish:function(t){var e=this;this.OutTaskMaterial=Object.assign({},t),Object(c["r"])(this.OutTaskMaterial.SuggestTrayId).then(function(t){var a=JSON.parse(t.data.Content);0===a?e.$message({title:"失败",message:"抱歉，您没有操作该托盘的权限",type:"error",duration:2e3}):(e.dialogFormLabelVisible=!0,e.GetTaskMaterialLabelList())})},handleConfirmLabel:function(t){var e=this;this.$confirm("是否开始执行","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=Object.assign({},t);e.OutTaskMaterial.MaterialLabel=a.MaterialLabel,e.OutTaskMaterial.LocationCode=a.LocationCode,e.OutTaskMaterial.OutTaskMaterialQuantity=a.Quantity,e.dialogFormVisible=!0,e.confirmEnable=!1}).catch(function(){e.$message({type:"info",message:"已取消手动执行"})})},shelfOutTaskMaterialItem:function(){var t=this;Object(o["j"])(this.OutTaskMaterial).then(function(e){var a=JSON.parse(e.data.Content);a.Success?(t.dialogFormVisible=!1,t.GetTaskMaterialLabelList(),t.$message({title:"成功",message:"执行成功",type:"success",duration:2e3})):t.$message({title:"失败",message:"执行失败："+a.Message,type:"error",duration:2e3})})},GetTaskMaterialLabelList:function(){var t=this;Object(o["i"])(this.OutTaskMaterial).then(function(e){var a=JSON.parse(e.data.Content);console.log(a),t.listLabelMaterial=a})},createBarCode:function(t){var e=a("62c5"),i=document.createElement("canvas"),n={format:this.format,height:40,width:1,margin:0,displayValue:!1};e(i,t,n),this.barCode=i.toDataURL("image/jpeg")},chosePrint:function(t){this.rowData=t,this.OptionObject.Name="",this.dialogPrinterVisible=!0},handlePrint:function(t){var e=this;this.PrintCode=t,this.printDate=this.getNowFormatDate(),Object(o["e"])(t.Code).then(function(t){var a=JSON.parse(t.data.Content);e.tempPrintlist=a;var i=document.getElementById("printBtn");i.click()})},getNowFormatDate:function(){var t=new Date,e="-",a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();i>=1&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n);var o=a+e+i+e+n;return o},handlePrintCode:function(t){if(this.dialogPrinterVisible=!1,this.$message({title:"成功",message:"打印任务已发送，请稍等",type:"success",duration:2e3}),null!==t){for(var e=Object(s["a"])(),a=e.GET_PRINTER_COUNT(),i=0;i<a;i++)this.OptionList[i]=e.GET_PRINTER_NAME(i),console.log(this.OptionList[i]);var n={};this.createBarCode(t.MaterialLabel),this.controls.push({id:111,type:"atext",data:{value:t.MaterialCode,width:400,height:20,x:20,y:10,itemtype:0,databind:{id:"",text:""},style:{color:"#000",fontFamily:"宋体",fontSize:"12px",fontSpacing:0,fontWeight:"normal",fontStyle:"normal",textAlign:"left",border:"",borderType:0,HOrient:0,VOrient:0}}}),this.controls.push({id:111,type:"atext",data:{value:t.MaterialName,width:400,height:20,x:20,y:30,itemtype:0,databind:{id:"",text:""},style:{color:"#000",fontFamily:"宋体",fontSize:"12px",fontSpacing:0,fontWeight:"normal",fontStyle:"normal",textAlign:"left",border:"",borderType:0,HOrient:0,VOrient:0}}}),this.controls.push({id:111,type:"atext",data:{value:t.MaterialLabel,width:400,height:20,x:20,y:50,itemtype:0,databind:{id:"",text:""},style:{color:"#000",fontFamily:"宋体",fontSize:"12px",fontSpacing:0,fontWeight:"normal",fontStyle:"normal",textAlign:"left",border:"",borderType:0,HOrient:0,VOrient:0}}}),this.controls.push({id:1,type:"aimage",data:{x:20,y:75,width:400,height:60,itemtype:0,databindtype:0,databind:{id:"",text:""},style:{backgroundSize:0,defaultimgtype:0,defaultimg:this.barCode,HOrient:0,VOrient:0}}});var o=new u["a"](this.controls,n,this.page);if(""!==this.OptionObject.Name)return console.log(this.OptionObject.Name),o.definedPrint(this.OptionObject.Name),void(this.rowData=null);o.print(),this.rowData=null,this.controls=[]}else this.$message({title:"失败",message:"请选择需要打印条码的出库单",type:"error",duration:2e3})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该入任务单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.OutTask=Object.assign({},t),e.deleteData(e.OutTask)}).catch(function(){e.$message({type:"info",message:"已取消删除"})}),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},deleteData:function(t){var e=this;Object(o["b"])(t).then(function(t){var a=JSON.parse(t.data.Content);a.Success?(e.dialogFormVisible=!1,e.$message({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.getList()):e.$message({title:"成功",message:"删除失败："+a.Message,type:"error",duration:2e3})})},handleRowClick:function(t,e,a){var i=this;Object(o["e"])(t.Code).then(function(t){var e=JSON.parse(t.data.Content);i.listMaterial=e})},handleCreateInMaterial:function(){var t=this.addMaterial.length+1;if(t>1){var e=this.addMaterial[this.addMaterial.length-1];if(!this.checkItem(e))return}var a={MaterialCode:"",MaterialName:"",BatchCode:"",Quantity:0,MaterialLabel:"",Id:t,Status:0,ManufactrueDate:"",MaterialTypeDescription:""};this.addMaterial.push(a)},checkItem:function(t){return""===t.MaterialCode?(this.$message({title:"成功",message:"请选择物料",type:"error",duration:2e3}),!1):""===t.BatchCode?(this.$message({title:"成功",message:"请输入批次",type:"error",duration:2e3}),!1):0===t.Quantity||"0"===t.Quantity||"0.0"===t.Quantity||"0.00"===t.Quantity?(this.$message({title:"成功",message:"请输入重量(g)",type:"error",duration:2e3}),!1):""===t.ManufactrueDate?(this.$message({title:"成功",message:"请输入生产日期",type:"error",duration:2e3}),!1):!!Object(l["c"])(t.Quantity)||(this.$message({title:"成功",message:"请输入正确的数字（包含两位小数的数字或者不包含小数的数字）",type:"error",duration:2e3}),!1)},next_id:function(){var t=0;return function(){return++t}},handleCheckLabel:function(){var t=this;""!==this.Label.Code&&null!=this.Label.Code?Object(d["c"])(this.Label.Code).then(function(e){if("undefined"!==typeof e.data.Content){var a=JSON.parse(e.data.Content);""===a||null===a?t.restLabel():t.Label=a}else t.$message({title:"失败",message:"未获取到该条码明细，请核查输入条码信息",type:"error",duration:2e3})}):this.$message({title:"失败 ",message:"请先扫描或输入条码",type:"error",duration:2e3})},handlEntereCheckLabel:function(t){var e=this,a=window.event?t.keyCode:t.which;13===a&&Object(d["c"])(this.Label.Code).then(function(t){if("undefined"!==typeof t.data.Content){var a=JSON.parse(t.data.Content);""===a||null===a?e.restLabel():e.Label=a}})},dialogInMaterialVisibleOpen:function(){this.dialogInMaterialVisible=!0,this.OutTaskMaterial.Quantity=0,this.resstIn(),this.restLabel()},dialogInMaterialVisibleClose:function(){this.dialogInMaterialVisible=!1,this.resstIn()},handleSendReceipt:function(t){var e=this;this.InTask=Object.assign({},t),0===this.InTask.Status?Object(o["f"])(this.InTask).then(function(t){var a=JSON.parse(t.data.Content);a.Success?(e.$message({title:"成功",message:"亮灯任务发送成功",type:"success",duration:2e3}),e.getList()):e.$message({title:"成功",message:"亮灯任务发送失败"+a.Message,type:"error",duration:2e3})}):this.$message({title:"失败",message:"出库单"+this.InTask.Code+"状态:["+t.StatusCaption+"]不为待拣货",type:"error",duration:2e3})},restLabel:function(){this.Label={Code:null,SupplyCode:null,MaterialCode:null,ProductionDate:null,Batchcode:null}},resstIn:function(){this.InTask={Code:"",BillCode:"",WareHouseCode:"",InDict:void 0,Remark:""},this.addMaterial=[]},timer:function(){var t=this;return setInterval(function(){t.getList()},1e4)},handleStartContainer:function(){var t=this;Object(o["g"])(this.OutTaskMaterial).then(function(e){var a=JSON.parse(e.data.Content);console.log(a),a.Success?(t.confirmEnable=!0,t.$message({title:"成功",message:"执行成功",type:"success",duration:2e3})):t.$message({title:"失败",message:"执行失败："+a.Message,type:"error",duration:2e3})})},handleRestoreContainer:function(){var t=this;Object(o["h"])(this.OutTaskMaterial).then(function(e){var a=JSON.parse(e.data.Content);console.log(a),a.Success?t.$message({title:"成功",message:"执行成功",type:"success",duration:2e3}):t.$message({title:"失败",message:"执行失败："+a.Message,type:"error",duration:2e3})})}}},g=f,m=a("2877"),b=Object(m["a"])(g,i,n,!1,null,null,null);e["default"]=b.exports},f579:function(t,e,a){var i=a("62c5"),n={render:function(t){return t("div",[t(this.elementTag,{style:{display:this.valid?void 0:"none"},class:["vue-barcode-element"]}),t("div",{style:{display:this.valid?"none":void 0}},this.$slots.default)])},props:{value:[String,Number],format:[String],width:[String,Number],height:[String,Number],text:[String,Number],fontOptions:[String],font:[String],textAlign:[String],textPosition:[String],textMargin:[String,Number],fontSize:[String,Number],background:[String],lineColor:[String],margin:[String,Number],marginTop:[String,Number],marginBottom:[String,Number],marginLeft:[String,Number],marginRight:[String,Number],displayValue:{type:[String,Boolean],default:!0},elementTag:{type:String,default:"svg",validator:function(t){return-1!==["canvas","svg","img"].indexOf(t)}}},mounted:function(){this.$watch("$props",o,{deep:!0,immediate:!0}),o.call(this)},data:function(){return{valid:!0}}};function o(){var t=this,e={format:this.format,height:this.height,width:this.width,text:this.text,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,lineColor:this.lineColor,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:function(e){t.valid=e},displayValue:this.displayValue,elementTag:this.elementTag};r(e),i(this.$el.querySelector(".vue-barcode-element"),String(this.value),e)}function r(t){for(var e in t)t.hasOwnProperty(e)&&void 0===t[e]&&delete t[e]}t.exports=n}}]);